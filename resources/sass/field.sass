/**
 * Nova Field Rounded Styles
 */
.ck.ck-reset.ck-editor
    .ck.ck-toolbar
        border-radius: 10px 10px 0 0

    .ck-editor__editable_inline
        @import "./figures.sass"
        @import "./blocks.sass"
        border-radius: 0 0 10px 10px
        padding: 0 10px
        margin: 0

.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused
    box-shadow: none !important

.ck-responsive-form
    .ck-labeled-input
        margin-left: 0 !important
        margin-bottom: 8px !important
        display: block
        float: none !important
        width: 100% !important


.ck-widget.raw-html-embed
    .raw-html-embed__buttons-wrapper
        z-index: 1

.ck-content
    ul
        list-style: disc
        padding-left: 40px

    ol
        list-style: decimal
        padding-left: 40px

.ck.ck-editor__main,
.ckeditor_content
    *:has(>[dir=rtl])
        direction: rtl
        text-align: right

    *:has(>[dir=ltr])
        direction: ltr
        text-align: left

.w-4\/5
    width: 80%

.p-sticky
    position: sticky

.max-h-full
    max-height: 100%

.nc-grid-cols-6
    grid-template-columns: repeat(6, minmax(0, 1fr))


// fade
.fade-enter-active, .fade-leave-active
    transition: opacity 200ms ease

.fade-enter-from, .fade-leave-to
    opacity: 0

// range-slider
input
    &.nova-ckeditor-range[type="range"]
        appearance: none
        width: 100%
        cursor: pointer
        outline: none
        border-radius: 15px
        height: 6px
        background: rgba(var(--colors-primary-100))

    &.nova-ckeditor-range[type="range"]::-webkit-slider-thumb
        appearance: none
        height: 15px
        width: 15px
        background-color: rgba(var(--colors-primary-600))
        border-radius: 50%
        border: none
        transition: .2s ease-in-out

        &:hover
            box-shadow: 0 0 0 10px rgba(var(--colors-primary-200), 0.5)

    &.nova-ckeditor-range[type="range"]::-moz-range-thumb
        height: 15px
        width: 15px
        background-color: rgba(var(--colors-primary-600))
        border-radius: 50%
        border: none
        transition: .2s ease-in-out

        &:hover
            box-shadow: 0 0 0 10px rgba(var(--colors-primary-200), 0.5)

    &.nova-ckeditor-range[type="range"]:active
        &::-webkit-slider-thumb
            box-shadow: 0 0 0 13px rgba(var(--colors-primary-300), 0.5)

        &::-moz-range-thumb
            box-shadow: 0 0 0 13px rgba(var(--colors-primary-300), 0.5)

    &.nova-ckeditor-range[type="range"]:focus
        &::-webkit-slider-thumb
            box-shadow: 0 0 0 13px rgba(var(--colors-primary-300), 0.5)

        &::-moz-range-thumb
            box-shadow: 0 0 0 13px rgba(var(--colors-primary-300), 0.5)


// media-browser overlay
.media-browser-btn
    display: inline-flex
    align-items: center
    gap: 4px
    padding: 4px 8px
    border-radius: 6px
    transition: all 300ms
    cursor: pointer

    svg
        color: rgba(var(--colors-primary-600))
        width: 20px

    &:hover:not(:disabled)
        background: rgba(var(--colors-gray-100))

    &:disabled
        opacity: 0.5
        cursor: not-allowed


// emojis
.ck-character-grid__tiles
    display: grid
    grid-template-columns: repeat(10, 1fr)
    height: 200px !important
    overflow-y: auto


@media (max-width: 800px)
    .nova-ckeditor-mobile-none
        display: none !important


//
// DARK THEME
//

:root
    &.dark
        /* Overrides the border radius setting in the theme. */
        // --ck-border-radius: 4px

        /* Overrides the default font size in the theme. */
        // --ck-font-size-base: 14px

        /* Helper variables to avoid duplication in the colors. */
        --ck-custom-background: rgba(var(--colors-gray-950))
        --ck-custom-foreground: rgba(var(--colors-gray-800))
        --ck-custom-border: rgba(var(--colors-gray-100), 0.1)
        // --ck-custom-white: hsl(0, 0%, 100%)
        --ck-color-base-background: rgba(var(--colors-gray-900))
        --ck-color-base-border: rgba(var(--colors-gray-100), 0.1)
        --ck-show-blocks-border-color: rgba(var(--colors-gray-700))

        /* -- Overrides generic colors. ------------------------------------------------------------- */

        --ck-color-base-foreground: var(--ck-custom-background)
        --ck-color-focus-border: rgba(var(--colors-gray-100), 0.1)
        --ck-color-text: rgba(var(--colors-gray-400))
        --ck-color-shadow-drop: var(--ck-custom-background)
        --ck-color-shadow-inner: var(--ck-custom-background)

        /* -- Overrides the default .ck-button class colors. ---------------------------------------- */

        --ck-color-button-default-background: var(--ck-custom-background)
        --ck-color-button-default-hover-background: rgba(var(--colors-gray-800))
        --ck-color-button-default-active-background: rgba(var(--colors-gray-700))
        --ck-color-button-default-active-shadow: rgba(var(--colors-gray-800))
        --ck-color-button-default-disabled-background: var(--ck-custom-background)

        --ck-color-button-on-background: var(--ck-custom-foreground)
        --ck-color-button-on-hover-background: rgba(var(--colors-gray-800))
        --ck-color-button-on-active-background: rgba(var(--colors-gray-700))
        --ck-color-button-on-active-shadow: rgba(var(--colors-gray-800))
        --ck-color-button-on-disabled-background: var(--ck-custom-foreground)

        --ck-color-button-action-background: rgba(var(--colors-green-600))
        --ck-color-button-action-hover-background: rgba(var(--colors-green-500))
        --ck-color-button-action-active-background: rgba(var(--colors-green-400))
        --ck-color-button-action-active-shadow: rgba(var(--colors-green-300))
        --ck-color-button-action-disabled-background: rgba(var(--colors-green-400))
        --ck-color-button-action-text: var(--ck-custom-white)

        --ck-color-button-save: rgba(var(--colors-green-500))
        --ck-color-button-cancel: rgba(var(--colors-red-500))
        --ck-focus-outer-shadow: none

        /* -- Overrides the default .ck-dropdown class colors. -------------------------------------- */

        --ck-color-dropdown-panel-background: var(--ck-custom-background)
        --ck-color-dropdown-panel-border: var(--ck-custom-foreground)

        /* -- Overrides the default .ck-dialog class colors. ----------------------------------- */

        --ck-color-dialog-background: var(--ck-custom-background)
        --ck-color-dialog-form-header-border: var(--ck-custom-border)

        /* -- Overrides the default .ck-splitbutton class colors. ----------------------------------- */

        --ck-color-split-button-hover-background: var(--ck-color-button-default-hover-background)
        --ck-color-split-button-hover-border: var(--ck-custom-foreground)

        /* -- Overrides the default .ck-input class colors. ----------------------------------------- */

        --ck-color-input-background: var(--ck-custom-background)
        --ck-color-input-border: hsl(257, 3%, 43%)
        --ck-color-input-text: hsl(0, 0%, 98%)
        --ck-color-input-disabled-background: hsl(255, 4%, 21%)
        --ck-color-input-disabled-border: hsl(250, 3%, 38%)
        --ck-color-input-disabled-text: hsl(0, 0%, 78%)

        /* -- Overrides the default .ck-labeled-field-view class colors. ---------------------------- */

        --ck-color-labeled-field-label-background: var(--ck-custom-background)

        /* -- Overrides the default .ck-list class colors. ------------------------------------------ */

        --ck-color-list-background: var(--ck-custom-background)
        --ck-color-list-button-hover-background: rgba(var(--colors-gray-900))
        --ck-color-list-button-on-background: rgba(var(--colors-gray-800))
        --ck-color-list-button-on-background-focus: rgba(var(--colors-gray-700))
        --ck-color-list-button-on-text: rgba(var(--colors-gray-300))

        /* -- Overrides the default .ck-balloon-panel class colors. --------------------------------- */

        --ck-color-panel-background: var(--ck-custom-background)
        --ck-color-panel-border: var(--ck-custom-border)

        /* -- Overrides the default .ck-toolbar class colors. --------------------------------------- */

        --ck-color-toolbar-background: var(--ck-custom-background)
        --ck-color-toolbar-border: var(--ck-custom-border)

        /* -- Overrides the default .ck-tooltip class colors. --------------------------------------- */

        --ck-color-tooltip-background: hsl(252, 7%, 14%)
        --ck-color-tooltip-text: hsl(0, 0%, 93%)

        /* -- Overrides the default colors used by the ckeditor5-image package. --------------------- */

        --ck-color-image-caption-background: hsl(0, 0%, 97%)
        --ck-color-image-caption-text: hsl(0, 0%, 20%)

        /* -- Overrides the default colors used by the ckeditor5-widget package. -------------------- */

        --ck-color-widget-blurred-border: rgba(var(--colors-primary-700))
        --ck-color-widget-hover-border: rgba(var(--colors-primary-600))
        --ck-color-widget-editable-focus-background: var(--ck-custom-white)

        /* -- Overrides the default colors used by the ckeditor5-link package. ---------------------- */

        --ck-color-link-default: rgba(var(--colors-primary-600))

        /* -- Overrides the default colors used by the ckeditor5-link package. ---------------------- */
        --ck-powered-by-text-color: rgba(var(--colors-gray-100))
        --ck-powered-by-border-radius: var(--ck-border-radius)
        --ck-powered-by-background: rgba(var(--colors-gray-600))
        --ck-powered-by-border-color: var(--ck-color-focus-border)


        .pagination__button
            svg
                fill: rgba(var(--colors-gray-500)) !important

            &:hover:not(:disabled)
                background: rgba(var(--colors-gray-700))

                svg
                    fill: rgba(var(--colors-gray-200)) !important


        .browser-list__item:hover
            .browser-list__item--icon
                background: rgba(var(--colors-gray-800)) !important

        .item__details--select
            svg
                color: rgba(var(--colors-gray-500)) !important

            &:hover:not(:disabled)
                background: rgba(var(--colors-gray-700))

                svg
                    color: rgba(var(--colors-gray-200)) !important


        .media-browser-btn
            &:hover:not(:disabled)
                background: rgba(var(--colors-gray-700))

        .browser-list__item
            svg
                fill: rgba(var(--colors-gray-500)) !important

            &:hover
                background: rgba(var(--colors-gray-700))
                color: rgba(var(--colors-gray-200))

                fill: rgba(var(--colors-gray-200)) !important


        .info__header
            button
                &:hover
                    background: rgba(var(--colors-gray-700))

                svg
                    fill: rgba(var(--colors-gray-500)) !important

        .ck-source-editing-area
            textarea
                background-color: rgba(var(--colors-gray-900)) !important

        .ck-code_selected,
        hr
            background-color: var(--ck-custom-foreground) !important

        blockquote
            border-left-color: rgba(var(--colors-gray-950)) !important
            background-color: rgba(var(--colors-gray-800)) !important


        figure.media,
            figure.image
                background-color: var(--ck-custom-foreground) !important
                border-color: var(--ck-custom-foreground) !important


        figure.table
            table
                background-color: transparent !important
                border-color: rgba(var(--colors-gray-500)) !important


                tbody
                    th, td
                        border-color: rgba(var(--colors-gray-600)) !important
